
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>The Main Points of Penetration Testing Methodology |     tudouya&#39;s secblog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="tudouya">
    
    <meta name="description" content="Information GatheringThis step occurs before you even get into their network. The goal is to gather as much information as possible about the business">
    
    
    
    
    <link rel="alternative" href="/atom.xml" title="    tudouya&#39;s secblog" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="stylesheet" href="/css/style.css">
    <link href="//cdn.bootcss.com/highlight.js/9.1.0/styles/railscasts.min.css" rel="stylesheet">
    <style type="text/css">
      figure {
        overflow-x: auto;
      }
    </style>
</head>

  <body>
    <header>
      <div>
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="    tudouya&#39;s secblog">    tudouya&#39;s secblog</a></h1>
				<h2 class="blog-motto">~The quieter you become,the more you can hear~</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">Home</a></li>
					
						<li><a href="/archives">Archives</a></li>
					
						<li><a href="/sitemap.xml">sitemap</a></li>
					
						<li><a href="/about">About</a></li>
					
					<li><form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:sec.php101.cn">
					</form></li>
				</ul>
			</nav>
</div>
    </header>
    <div id="wrap">
    <div id="container">
      <div id="main" class="post" itemscope itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
    <time datetime="2015-11-12T17:26:48.000Z" itemprop="datePublished">
      <a href="/2015/11/13/The-Main-Points-of-Penetration-Testing-Methodology/" title="The Main Points of Penetration Testing Methodology" itemprop="url" class="article-time">2015-11-13</a>
    </time>

  <h1 itemprop="name" class="article-name">
    
      <a href="/2015/11/13/The-Main-Points-of-Penetration-Testing-Methodology/" title="The Main Points of Penetration Testing Methodology" itemprop="url"><span>The Main Points of Penetration Testing Methodology</span></a>
  </h1>
</header>

	<div class="article-content">
		
		
		<div id="toc" class="toc-article">
			<strong class="toc-title">文章目录</strong>
		
			<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Information-Gathering"><span class="toc-number">1.</span> <span class="toc-text">Information Gathering</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools"><span class="toc-number">1.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Network-Discovery"><span class="toc-number">2.</span> <span class="toc-text">Network Discovery</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-1"><span class="toc-number">2.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Enumeration"><span class="toc-number">3.</span> <span class="toc-text">Enumeration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-2"><span class="toc-number">3.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vulnerability-Assessment"><span class="toc-number">4.</span> <span class="toc-text">Vulnerability Assessment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-3"><span class="toc-number">4.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploitation-and-Security"><span class="toc-number">5.</span> <span class="toc-text">Exploitation and Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-4"><span class="toc-number">5.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Exploitation"><span class="toc-number">6.</span> <span class="toc-text">Post Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-5"><span class="toc-number">6.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">7.</span> <span class="toc-text">Reference</span></a></li></ol>
		
		</div>
		
		<h2 id="Information-Gathering"><a href="#Information-Gathering" class="headerlink" title="Information Gathering"></a>Information Gathering</h2><p>This step occurs before you even get into their network. The goal is to gather as much information as possible about the business, their websites, personnel, and anything else that may be relevant. People often use insecure passwords such as l33tsp34k versions of their company’s name, names of their children, years of birth or graduation, and so on. Discovering this data about as many users as possible can be incredibly beneficial if you are attempting to crack passwords.  </p>
<h3 id="Tools"><a href="#Tools" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>Facebook/Twitter/LinkedIn/Google+</li>
<li>Maltego</li>
<li>Creepy</li>
<li>Social Engineering (Who do I talk to, to apply for an IT job?)</li>
<li>Recon-ng</li>
<li>TheHarvester</li>
<li>Metagoofil</li>
<li>Shodan + Shodan’s API</li>
<li>DNSenum/DNSrecon</li>
</ul>
<h2 id="Network-Discovery"><a href="#Network-Discovery" class="headerlink" title="Network Discovery"></a>Network Discovery</h2><p>Here, I scan the network and map out every possible device, system, domain controller, host, and piece of equipment that I can. This is also where I start Wireshark or TCPDump to capture data and get a better visual as to see what’s going on in the network. In switched networks, you can only passively detect broadcasts from other machines, and not communication between two other machines specifically. However, if you are there as a security engineer, you may want to create a SPAN port on the switch so you can mirror the communication between other ports.  </p>
<h3 id="Tools-1"><a href="#Tools-1" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>NMap</li>
<li>Unicorn Scan</li>
<li>Maltego</li>
<li>NetDiscover</li>
<li>SMBClient</li>
<li>Ettercap</li>
<li>Wirehark</li>
<li>TCPDump</li>
<li>Arping</li>
<li>Hping3</li>
<li>Xprobe2</li>
<li>TCPflow</li>
</ul>
<h2 id="Enumeration"><a href="#Enumeration" class="headerlink" title="Enumeration"></a>Enumeration</h2><p>Here is where I perform port mapping, service and version checks, OS detection, service scans, domain enumeration, user enumeration locally, and any amount of information that I can get. The goal is to find out which machines can be logged onto, what they are serving, what versions the services are, what authentication protocols are being used, and so on.  </p>
<h3 id="Tools-2"><a href="#Tools-2" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>NMap</li>
<li>NSE (Nmap Scripting Engine)</li>
<li>Maltego</li>
<li>SCAPY</li>
<li>NBTscan (NetBios shit)</li>
<li>Cisco Analysis Tools</li>
<li>Wireshark</li>
<li>DNSEnum</li>
<li>smtp-user-enum</li>
<li>snmpwalk</li>
</ul>
<h2 id="Vulnerability-Assessment"><a href="#Vulnerability-Assessment" class="headerlink" title="Vulnerability Assessment"></a>Vulnerability Assessment</h2><p>From looking at the services, devices software, and information we discovered in the enumeration part of the assessment, we get a better understanding of the how the network functions as a whole. We can more easily scan or search for known vulnerabilities, or attempt to write your own.  </p>
<h3 id="Tools-3"><a href="#Tools-3" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>NMap</li>
<li>NSE (Nmap Scripting Engine)</li>
<li>Metasploit/Armitage + Nexpose</li>
<li>Nessus</li>
<li>OpenVAS</li>
<li>Powerfuzzer</li>
<li>Custom Fuzzers</li>
<li>Cisco Analysis Tools (Nipper is a great one)</li>
</ul>
<h2 id="Exploitation-and-Security"><a href="#Exploitation-and-Security" class="headerlink" title="Exploitation and Security"></a>Exploitation and Security</h2><p>Here I confirm that the systems are vulnerable to attacks and exploits that I’ve found during my scanning and vulnerability assessment. This is where I suggest security updates, software/hardware updates, and add security configurations for routers, switches, and firewalls.  </p>
<h3 id="Tools-4"><a href="#Tools-4" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>NSE (Nmap Scripting Engine)</li>
<li>Metasploit/Armitage + Nexpose</li>
<li>Wireshark + SCAPY (I’ve actually attacked routing protocols with this)</li>
<li>Various Servers (Bind9 DNS servers, DHCP servers, SMB Servers, Radius servers, etc…)</li>
<li>Yersina</li>
<li>Hexinject</li>
<li>Tcpreplay</li>
<li>Pineapple (For wireless Pentests</li>
</ul>
<h2 id="Post-Exploitation"><a href="#Post-Exploitation" class="headerlink" title="Post Exploitation"></a>Post Exploitation</h2><p>Here is where I install some sort of backdoor that I can access in case the host disconnects or the connection is lost.  </p>
<h3 id="Tools-5"><a href="#Tools-5" class="headerlink" title="Tools"></a>Tools</h3><ul>
<li>Stunnel</li>
<li>SBD (Secure Back Door) ~ Linux</li>
<li>Cryptcat</li>
<li>Meterpreter Persistence</li>
<li>Powersploit</li>
<li>Iodine</li>
<li>UDPTunnel</li>
</ul>
<p><br></p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a href="http://hackforums.net/showthread.php?tid=3877383" target="_blank" rel="external">Passive Information Gathering</a></li>
<li><a href="http://hackforums.net/showthread.php?tid=3897925" target="_blank" rel="external">Simple Pentest Overview ~ Start to Finish + Post Exploitation</a></li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/H-AttackFlow/">H-AttackFlow</a>
</div>





<div class="article-share" id="share">

  <div data-url="http://sec.php101.cn/2015/11/13/The-Main-Points-of-Penetration-Testing-Methodology/" data-title="The Main Points of Penetration Testing Methodology |     tudouya&#39;s secblog" data-tsina="undefined" class="share clearfix">
  </div>

</div>
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 

<div class="next">
<a href="/2015/11/09/How-To-Steal-Cookies/"  title="How To Steal Cookies">
 <strong>下一篇：</strong><br/> 
 <span>How To Steal Cookies
</span>
</a>
</div>

</nav>

	
<section class="comment">
	<div class="ds-thread"></div>
</section>

</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Information-Gathering"><span class="toc-number">1.</span> <span class="toc-text">Information Gathering</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools"><span class="toc-number">1.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Network-Discovery"><span class="toc-number">2.</span> <span class="toc-text">Network Discovery</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-1"><span class="toc-number">2.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Enumeration"><span class="toc-number">3.</span> <span class="toc-text">Enumeration</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-2"><span class="toc-number">3.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vulnerability-Assessment"><span class="toc-number">4.</span> <span class="toc-text">Vulnerability Assessment</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-3"><span class="toc-number">4.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Exploitation-and-Security"><span class="toc-number">5.</span> <span class="toc-text">Exploitation and Security</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-4"><span class="toc-number">5.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Post-Exploitation"><span class="toc-number">6.</span> <span class="toc-text">Post Exploitation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Tools-5"><span class="toc-number">6.1.</span> <span class="toc-text">Tools</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reference"><span class="toc-number">7.</span> <span class="toc-text">Reference</span></a></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/A-SQLi/" title="A-SQLi">A-SQLi<sup>7</sup></a></li>
		
			<li><a href="/categories/B-XSS/" title="B-XSS">B-XSS<sup>2</sup></a></li>
		
			<li><a href="/categories/H-AttackFlow/" title="H-AttackFlow">H-AttackFlow<sup>1</sup></a></li>
		
			<li><a href="/categories/T-Tools/" title="T-Tools">T-Tools<sup>1</sup></a></li>
		
			<li><a href="/categories/Z-Other/" title="Z-Other">Z-Other<sup>1</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/Blind/" title="Blind">Blind<sup>2</sup></a></li>
		
			<li><a href="/tags/Boolean-Based/" title="Boolean Based">Boolean Based<sup>2</sup></a></li>
		
			<li><a href="/tags/Dork/" title="Dork">Dork<sup>1</sup></a></li>
		
			<li><a href="/tags/Double-Query/" title="Double Query">Double Query<sup>1</sup></a></li>
		
			<li><a href="/tags/Error-Based/" title="Error Based">Error Based<sup>1</sup></a></li>
		
			<li><a href="/tags/MegaSQLi/" title="MegaSQLi">MegaSQLi<sup>4</sup></a></li>
		
			<li><a href="/tags/String-Based/" title="String Based">String Based<sup>1</sup></a></li>
		
			<li><a href="/tags/crypt/" title="crypt">crypt<sup>1</sup></a></li>
		
			<li><a href="/tags/hash/" title="hash">hash<sup>1</sup></a></li>
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
</div>


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
<div>
<br />
</div>

    </div>
</div>
    <footer><div id="footer" >
	
    <div class="social-font" class="clearfix">
        
        <a href="http://weibo.com/5050395856" target="_blank" class="icon-weibo" title="weibo"></a>
        
        
        <a href="https://github.com/tudouya" target="_blank" class="icon-github" title="github"></a>
        
        
        
        
        
        
        <a href="mailto:568865013@qq.com" target="_blank" class="icon-email" title="Email Me"></a>
        
    </div>
	<section class="info">
		<p class="l1">
            keep foolish~keep hungry
        </p>
            <!-- <br/> -->
        <p class="l2">
			～如果我们不选择堕落，那么地狱的存在还有什么意义～
        </p>
	</section>
	 
		<p class="copyright">Powered by <a href="http://zespia.tw/hexo/" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/RagingCat/hexo-theme-ragingcat" target="_blank" title="hexo-theme-ragingcat">Raging Cat</a> © 2016
		
		<a href="http://sec.php101.cn/about" target="_blank" title="tudouya">tudouya</a>
		
		</p>
</div></footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize();
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
      
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});
</script>


<script type="text/javascript">
  var duoshuoQuery = {short_name:"ragingcat"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<style type="text/css">
</style>
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script><script type="text/javascript">
$(document).ready(function(){
    $('pre').each(function(i, block) {
      hljs.highlightBlock(block);
    });
    $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
});
</script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-60243036-1', 'auto');
  ga('send', 'pageview');

</script>



<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
});
</script>
<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
  </body>
</html>
